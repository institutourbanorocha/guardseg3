ScreenManager:
    id: screen_manager
    MainScreen:
        name: 'main'
    SupervisoresScreen:
        name: 'supervisores'
    VigilantesScreen:
        name: 'vigilantes'
    PostosScreen:
        name: 'postos'
    InspecoesScreen:
        name: 'inspecoes'
    ApontamentosScreen:
        name: 'apontamentos'
    NaoConformidadesScreen:
        name: 'nao_conformidades'
    FormularioScreen:
        name: 'formulario'

<MainScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: dp(20)
        spacing: dp(10)
        
        Image:
            source: 'logo.jpg'
            size_hint: None, None
            size: dp(150), dp(80)
            pos_hint: {'center_x': 0.5}
        
        MDLabel:
            text: 'Sistema de Supervisão de Vigilantes'
            halign: 'center'
            font_style: 'H5'
            size_hint_y: None
            height: self.texture_size[1]
            padding_y: dp(20)
        
        ScrollView:
            GridLayout:
                cols: 2
                spacing: dp(20)
                padding: dp(20)
                size_hint_y: None
                height: self.minimum_height
                
                MDRaisedButton:
                    text: 'Vigilantes'
                    size_hint: 1, None
                    height: dp(60)
                    on_release: root.manager.current = 'vigilantes'
                
                MDRaisedButton:
                    text: 'Supervisores'
                    size_hint: 1, None
                    height: dp(60)
                    on_release: root.manager.current = 'supervisores'
                
                MDRaisedButton:
                    text: 'Postos'
                    size_hint: 1, None
                    height: dp(60)
                    on_release: root.manager.current = 'postos'
                
                MDRaisedButton:
                    text: 'Inspeções'
                    size_hint: 1, None
                    height: dp(60)
                    on_release: root.manager.current = 'inspecoes'
                
                MDRaisedButton:
                    text: 'Apontamentos'
                    size_hint: 1, None
                    height: dp(60)
                    on_release: root.manager.current = 'apontamentos'
                
                MDRaisedButton:
                    text: 'Não Conformidades'
                    size_hint: 1, None
                    height: dp(60)
                    on_release: root.manager.current = 'nao_conformidades'

<BaseDataScreen>:
    BoxLayout:
        id: box_layout
        orientation: 'vertical'
        padding: dp(10)
        spacing: dp(10)
        
        BoxLayout:
            size_hint_y: None
            height: dp(50)
            spacing: dp(10)
            
            MDRaisedButton:
                text: 'Voltar'
                on_release: root.manager.current = 'main'
            
            MDRaisedButton:
                text: 'Adicionar'
                on_release: root.adicionar_item()
            
            MDRaisedButton:
                text: 'Importar CSV'
                on_release: root.importar_csv()
        
        # A tabela de dados será adicionada dinamicamente aqui

<FormularioScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: dp(20)
        spacing: dp(10)
        
        MDLabel:
            text: 'Formulário'
            halign: 'center'
            font_style: 'H5'
            size_hint_y: None
            height: self.texture_size[1]
            padding_y: dp(10)
        
        ScrollView:
            BoxLayout:
                id: form_layout
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                spacing: dp(10)
                padding: dp(10)
        
        BoxLayout:
            size_hint_y: None
            height: dp(50)
            spacing: dp(10)
            padding: [0, dp(10), 0, 0]
            
            MDRaisedButton:
                text: 'Cancelar'
                on_release: root.manager.current = 'main'
            
            MDRaisedButton:
                text: 'Salvar'
                on_release: root.salvar()